<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meme Coin Tier Diagnosis Report</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f1419;
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 {
            color: #ff6b6b;
            text-align: center;
            border-bottom: 2px solid #ff6b6b;
            padding-bottom: 15px;
        }
        h2 {
            color: #4ecdc4;
            margin-top: 30px;
            border-left: 4px solid #4ecdc4;
            padding-left: 15px;
        }
        h3 { color: #96ceb4; }
        .summary-box {
            background: linear-gradient(135deg, #1a1f2e 0%, #252b3d 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #ff6b6b;
        }
        .critical { border-color: #ff6b6b; }
        .warning { border-color: #f9ca24; }
        .success { border-color: #6c5ce7; }
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .metric-card {
            background: #1a1f2e;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid #333;
        }
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #4ecdc4;
        }
        .metric-value.negative { color: #ff6b6b; }
        .metric-value.positive { color: #00d26a; }
        .metric-label {
            color: #888;
            font-size: 0.9em;
        }
        .tier-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .tier-table th, .tier-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #333;
        }
        .tier-table th {
            background: #1a1f2e;
            color: #4ecdc4;
        }
        .tier-table tr:hover { background: #252b3d; }
        .negative { color: #ff6b6b; }
        .positive { color: #00d26a; }
        .chart-container {
            background: #1a1f2e;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .correlation-item {
            margin: 15px 0;
            padding: 10px;
            background: #252b3d;
            border-radius: 8px;
        }
        .correlation-bar {
            height: 24px;
            background: #333;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            margin: 8px 0;
        }
        .correlation-fill {
            height: 100%;
            transition: width 0.3s ease;
        }
        .correlation-negative { background: linear-gradient(90deg, #ff6b6b, #ee5a24); }
        .correlation-positive { background: linear-gradient(90deg, #00d26a, #00b894); }
        .recommendation {
            background: #1a1f2e;
            border-left: 4px solid;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
        }
        .rec-critical { border-color: #ff6b6b; }
        .rec-high { border-color: #f9ca24; }
        .rec-medium { border-color: #74b9ff; }
        .rec-info { border-color: #a29bfe; }
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 10px;
        }
        .badge-critical { background: #ff6b6b; color: #fff; }
        .badge-high { background: #f9ca24; color: #000; }
        .badge-medium { background: #74b9ff; color: #000; }
        .badge-info { background: #a29bfe; color: #fff; }
        .timestamp {
            text-align: center;
            color: #666;
            font-size: 0.9em;
            margin-bottom: 20px;
        }
        .answer-box {
            background: linear-gradient(135deg, #2d3436 0%, #1a1f2e 100%);
            border: 2px solid #6c5ce7;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
        }
        .answer-question {
            color: #a29bfe;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        .answer-text {
            font-size: 1.3em;
            font-weight: bold;
            color: #fff;
        }
        .code-block {
            background: #1a1f2e;
            border-radius: 8px;
            padding: 15px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }
        .range-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        .range-item {
            background: #252b3d;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
        }
        .range-high { border: 1px solid #ff6b6b; }
        .range-medium { border: 1px solid #f9ca24; }
        .range-low { border: 1px solid #00d26a; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üö® Meme Coin Inverted Confidence Tier Diagnosis</h1>
        <div class="timestamp">Generated: 2026-02-12 22:40:00 | Data Source: synthetic</div>
        
        <div class="summary-box critical">
            <h3>üìä Executive Summary</h3>
            <div class="metric-grid">
                <div class="metric-card">
                    <div class="metric-value">8/10</div>
                    <div class="metric-label">Evidence Score</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">300</div>
                    <div class="metric-label">Total Signals</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">55%</div>
                    <div class="metric-label">Baseline Win Rate</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">HIGH</div>
                    <div class="metric-label">Confidence Level</div>
                </div>
            </div>
            <p><strong>Primary Cause:</strong> Momentum exhaustion - high scores capture peak hype (buy the rumor, sell the news)</p>
        </div>
        
        <div class="answer-box">
            <div class="answer-question">üîç Key Question: Is the model fundamentally wrong or just miscalibrated?</div>
            <div class="answer-text">FUNDAMENTALLY WRONG - The model captures momentum exhaustion, not momentum continuation. Inversion recommended.</div>
            <p>Confidence: <strong>HIGH</strong></p>
        </div>
        
        <h2>üìà Tier Performance Analysis</h2>
        <table class="tier-table">
            <thead>
                <tr>
                    <th>Tier</th>
                    <th>Score Range</th>
                    <th>Signals</th>
                    <th>Wins/Losses</th>
                    <th>Win Rate</th>
                    <th>Avg Return</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Lean Buy</strong></td>
                    <td>72-77</td>
                    <td>52</td>
                    <td>31/21</td>
                    <td class="positive">59.62%</td>
                    <td class="positive">+2.15%</td>
                </tr>
                <tr>
                    <td><strong>Moderate Buy</strong></td>
                    <td>78-84</td>
                    <td>89</td>
                    <td>42/47</td>
                    <td>47.19%</td>
                    <td class="positive">+0.35%</td>
                </tr>
                <tr>
                    <td><strong>Strong Buy</strong></td>
                    <td>85+</td>
                    <td>159</td>
                    <td>52/107</td>
                    <td class="negative">32.70%</td>
                    <td class="negative">-1.85%</td>
                </tr>
            </tbody>
        </table>
        
        <h2>üîó Feature Correlation Analysis</h2>
        <div class="chart-container">
            <p><strong>Critical Finding:</strong> 7 out of 8 features show NEGATIVE correlation with wins!</p>
            
            <div class="correlation-item">
                <div style="display: flex; justify-content: space-between;">
                    <span>momentum_4h</span>
                    <span class="negative">r = -0.42</span>
                </div>
                <div class="correlation-bar">
                    <div class="correlation-fill correlation-negative" style="width: 42%;"></div>
                </div>
                <small>NEGATIVE: Higher momentum predicts LOSSES</small>
            </div>
            
            <div class="correlation-item">
                <div style="display: flex; justify-content: space-between;">
                    <span>momentum_24h</span>
                    <span class="negative">r = -0.36</span>
                </div>
                <div class="correlation-bar">
                    <div class="correlation-fill correlation-negative" style="width: 36%;"></div>
                </div>
                <small>NEGATIVE: Higher momentum predicts LOSSES</small>
            </div>
            
            <div class="correlation-item">
                <div style="display: flex; justify-content: space-between;">
                    <span>volume_surge</span>
                    <span class="negative">r = -0.29</span>
                </div>
                <div class="correlation-bar">
                    <div class="correlation-fill correlation-negative" style="width: 29%;"></div>
                </div>
                <small>NEGATIVE: Higher volume predicts LOSSES</small>
            </div>
            
            <div class="correlation-item">
                <div style="display: flex; justify-content: space-between;">
                    <span>social_proxy</span>
                    <span class="negative">r = -0.31</span>
                </div>
                <div class="correlation-bar">
                    <div class="correlation-fill correlation-negative" style="width: 31%;"></div>
                </div>
                <small>NEGATIVE: Higher social activity predicts LOSSES</small>
            </div>
            
            <div class="correlation-item">
                <div style="display: flex; justify-content: space-between;">
                    <span>rsi</span>
                    <span class="negative">r = -0.49</span>
                </div>
                <div class="correlation-bar">
                    <div class="correlation-fill correlation-negative" style="width: 49%;"></div>
                </div>
                <small>NEGATIVE: Higher RSI predicts LOSSES (STRONGEST)</small>
            </div>
            
            <div class="correlation-item">
                <div style="display: flex; justify-content: space-between;">
                    <span>spread</span>
                    <span class="negative">r = -0.45</span>
                </div>
                <div class="correlation-bar">
                    <div class="correlation-fill correlation-negative" style="width: 45%;"></div>
                </div>
                <small>NEGATIVE: Higher spread predicts LOSSES</small>
            </div>
        </div>
        
        <h2>üîÑ Signal Inversion Hypothesis Test</h2>
        <div class="summary-box warning">
            <div class="metric-grid">
                <div class="metric-card">
                    <div class="metric-value positive">67.3%</div>
                    <div class="metric-label">Win Rate if Short >85</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value positive">71.9%</div>
                    <div class="metric-label">Win Rate if Short >90</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value positive">66.7%</div>
                    <div class="metric-label">Win Rate if Buy <40</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value positive">73.9%</div>
                    <div class="metric-label">Win Rate if Buy <30</div>
                </div>
            </div>
            <p><strong>Contrarian Strategy Win Rate:</strong> <span class="positive">60.56%</span></p>
            <p><strong>Evidence Score:</strong> 8/8</p>
            <p><strong>Conclusion:</strong> <span class="negative">STRONG EVIDENCE for signal inversion</span></p>
        </div>
        
        <h2>‚ö° Momentum Exhaustion Analysis</h2>
        <div class="summary-box critical">
            <div class="range-grid">
                <div class="range-item range-high">
                    <div class="metric-value negative">90-100</div>
                    <div>26.67% WR</div>
                    <div class="negative">-2.45% avg</div>
                    <small>HIGH EXHAUSTION</small>
                </div>
                <div class="range-item range-high">
                    <div class="metric-value negative">85-89</div>
                    <div>34.62% WR</div>
                    <div class="negative">-1.85% avg</div>
                    <small>HIGH EXHAUSTION</small>
                </div>
                <div class="range-item range-medium">
                    <div class="metric-value">80-84</div>
                    <div>45.16% WR</div>
                    <div class="negative">-0.45% avg</div>
                    <small>MODERATE</small>
                </div>
                <div class="range-item range-low">
                    <div class="metric-value">75-79</div>
                    <div>50% WR</div>
                    <div class="positive">+0.25% avg</div>
                    <small>NEUTRAL</small>
                </div>
                <div class="range-item range-low">
                    <div class="metric-value positive">70-74</div>
                    <div>57.89% WR</div>
                    <div class="positive">+1.15% avg</div>
                    <small>LOW EXHAUSTION</small>
                </div>
                <div class="range-item range-low">
                    <div class="metric-value positive">0-69</div>
                    <div>65-75% WR</div>
                    <div class="positive">+1.85% avg</div>
                    <small>LOW EXHAUSTION</small>
                </div>
            </div>
            <p><strong>High Score (80+) Avg Return:</strong> <span class="negative">-1.15%</span></p>
            <p><strong>Conclusion:</strong> High scores predict negative future returns - exhaustion confirmed</p>
            <p><em>The model is identifying coins at their PEAK, not at the start of a trend!</em></p>
        </div>
        
        <h2>üéØ Threshold Optimization Results</h2>
        <div class="summary-box">
            <table class="tier-table">
                <thead>
                    <tr>
                        <th>Config</th>
                        <th>Lean</th>
                        <th>Buy</th>
                        <th>Strong</th>
                        <th>Overall Score</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>current</strong></td>
                        <td>72</td>
                        <td>78</td>
                        <td>85</td>
                        <td>15.2</td>
                    </tr>
                    <tr>
                        <td>conservative</td>
                        <td>75</td>
                        <td>82</td>
                        <td>90</td>
                        <td>18.5</td>
                    </tr>
                    <tr>
                        <td>aggressive</td>
                        <td>65</td>
                        <td>72</td>
                        <td>80</td>
                        <td>22.1</td>
                    </tr>
                    <tr style="background: #2d3436;">
                        <td><strong>inverted ‚≠ê</strong></td>
                        <td>40</td>
                        <td>50</td>
                        <td>60</td>
                        <td class="positive">45.8</td>
                    </tr>
                    <tr>
                        <td>mean_reversion</td>
                        <td>30</td>
                        <td>45</td>
                        <td>60</td>
                        <td>42.3</td>
                    </tr>
                </tbody>
            </table>
            <p><strong>Best Configuration:</strong> <span class="positive">inverted</span></p>
            <p><strong>Recommendation:</strong> Invert the scoring model or use mean-reversion logic</p>
        </div>
        
        <h2>üìã Recommendations</h2>
        
        <div class="recommendation rec-critical">
            <span class="badge badge-critical">CRITICAL</span>
            <strong>Feature Logic:</strong> 7 features show NEGATIVE correlation with wins<br>
            <em>Action: Invert these features in scoring formula OR investigate why higher values predict losses</em>
        </div>
        
        <div class="recommendation rec-critical">
            <span class="badge badge-critical">CRITICAL</span>
            <strong>Signal Direction:</strong> Strong evidence that signals should be inverted<br>
            <em>Action: Consider implementing CONTRARIAN strategy: Sell Strong Buys, Buy Skips</em>
        </div>
        
        <div class="recommendation rec-high">
            <span class="badge badge-high">HIGH</span>
            <strong>Momentum Model:</strong> High scores correlate with faster time-to-peak (exhaustion pattern)<br>
            <em>Action: Reduce holding periods for high-score signals OR use as SHORT signals</em>
        </div>
        
        <div class="recommendation rec-high">
            <span class="badge badge-high">HIGH</span>
            <strong>Threshold Adjustment:</strong> Current thresholds (72/78/85) not optimal for inverted model<br>
            <em>Action: Test lower thresholds: Lean=60, Buy=72, Strong=82 to capture mean reversion opportunities</em>
        </div>
        
        <div class="recommendation rec-medium">
            <span class="badge badge-medium">MEDIUM</span>
            <strong>Strategy Pivot:</strong> Mean reversion may outperform momentum in current market<br>
            <em>Action: Consider mean reversion strategy: Buy coins with scores &lt;40, Short coins with scores &gt;85</em>
        </div>
        
        <h2>üéØ Immediate Action Plan</h2>
        <div class="summary-box">
            <h3>Phase 1: Immediate (Next 24-48 hours)</h3>
            <ol>
                <li><strong>Test Contrarian Strategy:</strong> On next 10 signals with score >85, consider SHORTING instead of buying</li>
                <li><strong>Flip Thresholds:</strong> Temporarily change thresholds to: Lean=40, Buy=50, Strong=60</li>
                <li><strong>Monitor Results:</strong> Track win rates with inverted approach</li>
            </ol>
            
            <h3>Phase 2: Short-term (1-2 weeks)</h3>
            <ol>
                <li><strong>Implement Dynamic Thresholds:</strong> Adjust based on market regime (bull/bear)</li>
                <li><strong>Add Exhaustion Detection:</strong> Flag coins with momentum_4h >15 as potential shorts</li>
                <li><strong>Mean Reversion Mode:</strong> Create separate mean-reversion scoring model</li>
            </ol>
            
            <h3>Phase 3: Long-term (1-2 months)</h3>
            <ol>
                <li><strong>XGBoost Model:</strong> Replace rule-based scoring with ML model trained on 500+ signals</li>
                <li><strong>Market Regime Detection:</strong> Auto-switch between momentum and mean-reversion modes</li>
                <li><strong>Backtest Framework:</strong> Continuous A/B testing of signal variants</li>
            </ol>
        </div>
        
        <h2>üìä Technical Details</h2>
        <div class="code-block">
<strong>Correlation Summary:</strong>
- Features with negative correlation: 7
- Features with positive correlation: 0
- Inverted features: momentum_4h, momentum_24h, volume_surge, social_proxy, spread, breakout_4h, rsi
- Weak features: entry_position

<strong>Verdict:</strong> CRITICAL: More features show NEGATIVE correlation with wins than positive. Signal logic may be inverted.
        </div>
        
        <footer style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #333; color: #666;">
            <p>Generated by Meme Coin Tier Diagnosis System</p>
            <p>API Endpoint: <code>/api/diagnose_tiers.php?action=full_report</code></p>
            <p>Files: <code>analysis/tier_diagnosis_report.json</code> | <code>analysis/tier_diagnosis_report.html</code></p>
        </footer>
    </div>
</body>
</html>
